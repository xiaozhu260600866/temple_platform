(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-tablet-matin-payed-index"],{1010:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("v-uni-view",{staticClass:"bg-f"},[i("v-uni-canvas",{style:"width: "+t.width+"px; height: "+t.height+"px; left:-999px",attrs:{"canvas-id":"firstCanvas"}}),i("v-uni-image",{attrs:{src:"/static/printf_bg2.jpg",hidden:!0},on:{load:function(e){arguments[0]=e=t.$handleEvent(e),t.imageLoad.apply(void 0,arguments)}}})],1):t._e()},r=[]},"13fc":function(t,e,i){"use strict";i.r(e);var n=i("d7ba"),a=i("cd1a");for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);var o,s=i("f0c5"),l=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],o);e["default"]=l.exports},"26dc":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("v-uni-view",["pages/user/order/project"==t.url?i("v-uni-image",{attrs:{src:"/static/receipt-bg3.jpg",hidden:!0},on:{load:function(e){arguments[0]=e=t.$handleEvent(e),t.imageLoad.apply(void 0,arguments)}}}):t._e(),"pages/user/order/project"!=t.url?i("v-uni-image",{attrs:{src:"/static/receipt-bg3.jpg",hidden:!0},on:{load:function(e){arguments[0]=e=t.$handleEvent(e),t.imageLoad.apply(void 0,arguments)}}}):t._e(),i("v-uni-canvas",{style:"width: "+t.width+"px; height: 400rpx;left:-1300px",attrs:{"canvas-id":"firstCanvas"}}),i("img",{attrs:{src:t.tempFilePath,preview:"1",id:"temp"}})],1):t._e()},r=[]},"676c":function(t,e,i){"use strict";i.r(e);var n=i("8573"),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},"696b":function(t,e,i){"use strict";i.r(e);var n=i("1010"),a=i("b775");for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);var o,s=i("f0c5"),l=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],o);e["default"]=l.exports},8573:function(t,e,i){"use strict";i("c975"),i("4d63"),i("ac1f"),i("25f0"),i("5319"),i("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={components:{},data:function(){return{posterShow:!0,formAction:"/project/order/detail",width:400,tempFilePath:"",show:!1,height:600,rpx:0,images:[],data:this.formatData(this),price:"1888.88",order:{},url:"",open:!0,images2:{},priceArr:[]}},onLoad:function(){},methods:{imageLoad2:function(t){var e=t.detail.width,i=200,n=e/i;console.log(t);var a=this.width,r=(this.width,{});r={width:a,height:200},console.log(r),console.log(124),this.images2=r},ajax:function(t,e){var i=this,n=getCurrentPages(),a=n[n.length-1];if(this.url=a.route,this.open=e,this.tempFilePath)setTimeout((function(){uni.previewImage({current:i.tempFilePath,urls:[i.tempFilePath]})}),500);else{uni.getSystemInfo({success:function(t){i.width=t.windowWidth,i.height=t.windowHeight,i.rpx=t.windowWidth/375}}),this.order=t,this.price=t.amount;var r=new Date(t.created_at.replace(new RegExp(/-/gm),"/"));this.order.year=r.getFullYear(),this.order.month=r.getMonth()+1,this.order.month=this.order.month<10?"0"+this.order.month:this.order.month,this.order.date=r.getDate(),this.order.date=this.order.date<10?"0"+this.order.date:this.order.date,this.show=!0,this.convertCurrency(this.price),this.open&&uni.showLoading({title:"加载中"})}},imageLoad:function(t){var e=this,i=t.detail.width,n=t.detail.height,a=i/n,r=this.width,o=this.width/a,s=uni.createCanvasContext("firstCanvas");console.log(o),this.url,s.drawImage("/static/receipt-bg3.jpg",0,0,r,o);var l=this.rpx;s.setFontSize(10),s.setFillStyle("#603217"),s.fillText(this.order.year,125*l,48*l),s.setFontSize(10),s.setFillStyle("#603217"),s.fillText(this.order.month,170*l,48*l),s.setFontSize(10),s.setFillStyle("#603217"),s.fillText(this.order.date,200*l,48*l),s.setFontSize(9),s.setFillStyle("#ff0000"),s.fillText("GD"+this.order.order_no,278*l,49*l),s.setFontSize(10),s.setFillStyle("#603217"),s.fillText(this.order.cert_name,90*l,78*l),s.setFontSize(10),s.setFillStyle("#603217");var c=this.convertCurrency(this.price);s.fillText(c,110*l,104*l),this.order.tablet_name&&(s.setFontSize(10),s.setFillStyle("#603217"),s.fillText(this.order.tablet_name,70*l,127*l)),s.setFontSize(10),s.setFillStyle("#603217"),s.fillText("微信支付",275*l,78*l),s.setFontSize(10),s.setFillStyle("#603217"),s.fillText("￥"+this.price,290*l,104*l),s.draw(),this.show=!0,setTimeout((function(){uni.canvasToTempFilePath({canvasId:"firstCanvas",success:function(t){console.log(t),e.tempFilePath=t.tempFilePath,e.open&&(uni.hideLoading(),setTimeout((function(){e.updateUrl(["/pages/user/index/index"]),uni.previewImage({current:e.tempFilePath,urls:[e.tempFilePath]}),e.show=!1}),500))},fail:function(t){console.log(t)}})}),200)},drawArticle:function(t,e,i,n,a){for(var r=e.split(""),o="",s=[],l=0;l<r.length;l++)t.measureText(o).width<i?o+=r[l]:(l--,s.push(o),o="");s.push(o);for(var c=0;c<s.length;c++)c<3&&t.fillText(s[c],n,a+19*c);var u=s.length>3?3:s.length;return a+19*(u-1)},convertCurrency:function(t){var e="仟佰拾亿仟佰拾万仟佰拾元角分",i="";t+="00";var n=t.indexOf("-");if(-1!=n){t=t.substring(1);var a=t.indexOf(".");a>=0&&(t=t.substring(0,a)+t.substr(a+1,2)),e=e.substr(e.length-t.length);for(var r=0;r<t.length;r++)i+="".charAt(t.charAt(r))+e.charAt(r);return"负数"+i.replace(/零(仟|佰|拾|角)/g,"零").replace(/(零)+/g,"零").replace(/零(万|亿|元)/g,"$1").replace(/(亿)万/g,"$1").replace(/^元零?|零分/g,"").replace(/元$/g,"元整").replace(/角$/g,"角整")}a=t.indexOf(".");a>=0&&(t=t.substring(0,a)+t.substr(a+1,2)),e=e.substr(e.length-t.length);for(r=0;r<t.length;r++)i+="零壹贰叁肆伍陆柒捌玖".charAt(t.charAt(r))+e.charAt(r);return i.replace(/零(仟|佰|拾|角)/g,"零").replace(/(零)+/g,"零").replace(/零(万|亿|元)/g,"$1").replace(/(亿)万/g,"$1").replace(/^元零?|零分/g,"").replace(/元$/g,"元整").replace(/角$/g,"角整")}}};e.default=n},a5f0:function(t,e,i){"use strict";i.r(e);var n=i("26dc"),a=i("676c");for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);var o,s=i("f0c5"),l=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],o);e["default"]=l.exports},b775:function(t,e,i){"use strict";i.r(e);var n=i("fa46"),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},cd1a:function(t,e,i){"use strict";i.r(e);var n=i("e418"),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},d7ba:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("page",{ref:"page",attrs:{parentData:t.data,formAction:t.formAction}}),i("v-uni-view",[(t.status=1)?i("v-uni-view",{staticClass:"pay-top"},[i("v-uni-view",{staticClass:"iconfont icon-pay-yes"}),i("v-uni-view",{staticClass:"p"},[t._v("牌位登记成功，感恩您的发心！")]),i("v-uni-view",{staticClass:"p"},[t._v("您已成功随喜 "+t._s(t.amount)+" 元")])],1):i("v-uni-view",{staticClass:"pay-top"},[i("v-uni-view",{staticClass:"iconfont icon-pay-no"}),i("v-uni-view",{staticClass:"p"},[t._v("支付失败")])],1),i("v-uni-view",{staticClass:"m20 mt0"},[i("v-uni-view",{staticClass:"dx-btn dx-btn-lg dx-btn-orange w-b100",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toIndex.apply(void 0,arguments)}}},[t._v("返回首页")]),i("v-uni-view",{staticClass:"mtb10 flex"},[i("v-uni-view",{staticClass:"dx-btn dx-btn-lg dx-btn-green w-b100 mr10",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$refs.cert.ajax(t.data.detail,!0)}}},[t._v("电子收据")]),i("v-uni-view",{staticClass:"dx-btn dx-btn-lg dx-btn-green w-b100",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$refs.type998.show=!0}}},[t._v("电子牌位")])],1)],1),i("cert",{ref:"cert"}),i("tabletType998",{ref:"type998",on:{callBack:function(e){arguments[0]=e=t.$handleEvent(e),t.resTablet.apply(void 0,arguments)}}})],1)],1)},r=[]},e418:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("a5f0")),r=n(i("696b")),o={components:{cert:a.default,tabletType998:r.default},data:function(){return{formAction:"",mpType:"page",data:this.formatData(this),getSiteName:this.getSiteName(),status:1,amount:300}},onPullDownRefresh:function(){this.data.nextPage=1,this.ajax()},onShareAppMessage:function(){return this.shareSource(this,"商城")},onLoad:function(t){},onShow:function(){},methods:{toIndex:function(){window.location.href="https://temple.doxinsoft.com/h5"},ajax:function(){this.getAjax(this).then((function(t){}))}}};e.default=o},fa46:function(t,e,i){"use strict";i("ac1f"),i("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:["notOpenPic"],data:function(){return{posterShow:!0,width:375,height:600,show:!1,nameSize:3,peopleNum:1,no:"A001",name:"梁敏英",address:"江门市蓬江区建设路92号建行大厦8楼806室",rpx:0}},mounted:function(){var t=this;uni.getSystemInfo({success:function(e){t.width=e.windowWidth,t.height=e.windowHeight,t.rpx=e.windowWidth/375}});var e="财源茂盛";console.log("llu"),console.log(e.length,123)},methods:{init:function(t,e,i,n,a,r){this.name1=t,this.address=r.address,console.log(this.name4),this.show=!0,this.no=r.no},imageLoad:function(t){var e=this,i=t.detail.width,n=t.detail.height,a=i/n;console.log("deviceWidth",i),console.log("deviceHeigth",i);var r=this.width,o=this.width/a;this.height=o,console.log(this.name4);var s=uni.createCanvasContext("firstCanvas"),l=this.rpx;console.log("imageRatio",r/o),setTimeout((function(){if(s.drawImage("/static/printf_bg.jpg",0,0,r,o),s.setFontSize(16),s.setFillStyle("#000"),s.setTextAlign("left"),s.fillText("No："+e.no,20*l,30*l),s.font="bold 16rpx 微软雅黑",s.setTextAlign("center"),e.address)e.drawArticle(s,e.address,16*l,r-50*l,285*l);s.font="bold 27rpx 微软雅黑";e.drawArticle(s,e.name1,27*l,r/2,370*l);s.draw(),setTimeout((function(){uni.canvasToTempFilePath({canvasId:"firstCanvas",success:function(t){e.tempFilePath=t.tempFilePath,uni.hideLoading(),setTimeout((function(){e.updateUrl(["/pages/user/index/index"]),e.notOpenPic||uni.previewImage({current:e.tempFilePath,urls:[e.tempFilePath]}),e.$emit("callBack",e.tempFilePath)}),500),e.show=!1},fail:function(t){console.log(t)}})}),200)}),500)},drawArticle:function(t,e,i,n,a){for(var r=e.split(""),o=[],s=0;s<r.length;s++)o.push(r[s]);for(var l=0;l<o.length;l++)l<100&&t.fillText(o[l],n,a+l*i);var c=o.length>2?2:o.length;return a+20*(c-1)}}};e.default=n}}]);