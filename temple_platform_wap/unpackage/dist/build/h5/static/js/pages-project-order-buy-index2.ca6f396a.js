(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-project-order-buy-index2"],{1430:function(e,t,a){"use strict";var o=a("c9fe"),i=a.n(o);i.a},"183a":function(e,t,a){"use strict";a.r(t);var o=a("bf6b"),i=a.n(o);for(var r in o)"default"!==r&&function(e){a.d(t,e,(function(){return o[e]}))}(r);t["default"]=i.a},"39a4":function(e,t,a){var o=a("24fb");t=o(!1),t.push([e.i,'.pay .weui-label[data-v-14feaf5e]{width:95px}.pay .box-item[data-v-14feaf5e]{margin-bottom:12px;background:#fff}.pay .weui-cell[data-v-14feaf5e]{padding:8px 15px;color:#333}\r\n/* 金额 */.pay-price .item[data-v-14feaf5e]{min-width:calc(25% - 10px);margin:5px;border:1px #e1e1e1 solid;border-radius:4px;text-align:center;line-height:36px;height:38px;padding:0 10px}.pay-price .item .price[data-v-14feaf5e]{color:#aaa;text-align:center;font-size:18px;color:#ff721f}.pay-price .item.select[data-v-14feaf5e]{background:#ff721f;border-color:#ff721f}.pay-price .item.select .price[data-v-14feaf5e]{color:#fff!important}.pay-price .other[data-v-14feaf5e]{-webkit-box-flex:1;-webkit-flex:1;flex:1;overflow:hidden;width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.pay-price .other.select[data-v-14feaf5e]{background:#fff}.anonymous .select[data-v-14feaf5e]{width:14px;height:14px;border:1px #ccc solid;border-radius:3px;margin-right:3px}.anonymous .yes[data-v-14feaf5e]:before{content:"";display:block;width:8px;height:4px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);border-width:0 0 1px 1px;border-style:solid;border-color:red;margin-top:2px;margin-left:2px}.order-price .weui-cell[data-v-14feaf5e]{padding:0 15px}.content .weui-cell[data-v-14feaf5e]{border-bottom:0}\r\n/* .content .weui-input{line-height: 20px;color: #999;width: 100%;border: 1px #e1e1e1 solid;padding: 10px;border-radius: 6px;} */.pay .top[data-v-14feaf5e]{border-top:1px solid #dad7d0;border-bottom:1px solid #d2d2d2;line-height:40px}.pay .top .tip[data-v-14feaf5e]{color:#56504d}.pay .top .close[data-v-14feaf5e]{width:40px;height:40px;text-align:center}.pay .box[data-v-14feaf5e]{margin:20px}.pay .box .tb[data-v-14feaf5e]{width:100%;font-size:16px;color:#b0a7a2}.pay .box .tb .ed[data-v-14feaf5e]{border:2px solid #f37b30;background:url(http://wx.ciensi.net/m/picture/yqj_selected.png) no-repeat 100% 0}.pay .box .tb .sel[data-v-14feaf5e]{font-size:14px;line-height:26px;border:1px solid #c5c0b8;border-radius:5px;word-break:break-all;word-wrap:break-word;background:#fff;padding:4px 5px;text-align:center;width:100%;outline:none;height:38px;color:#000}.pay .box .Info .sel[data-v-14feaf5e]{display:-webkit-box;display:-webkit-flex;display:flex;text-align:left}.pay .box .Info .sel .name[data-v-14feaf5e]{color:red}.pay .box .Info .sel .input[data-v-14feaf5e]{-webkit-box-flex:1;-webkit-flex:1;flex:1;overflow:hidden;width:100%;text-align:left}\r\n/* .pay .anonymous .anonymouscheck {width: 12px;height: 12px;vertical-align: -1px;}\r\n.pay .anonymous {font-size: 14px;color: #b0a7a2;margin-top: 10px;text-align: center;} */.other[data-v-14feaf5e]{width:14px;height:14px;float:right;margin-right:-5px;margin-top:-5px;display:block}.pay .box .tb .sel uni-input[data-v-14feaf5e]{border:0;width:90px;height:25px;font-size:16px;color:#fc7d37;text-align:center;-webkit-appearance:none}.pay .box .btn_[data-v-14feaf5e]{margin-top:18px;width:100%;height:37px;line-height:35px;font-size:16px;color:#fff;display:inline-block;border-radius:5px;text-align:center;background:#ff6c0a}.remark[data-v-14feaf5e]{font-size:14px;line-height:26px;border:1px solid #c5c0b8;border-radius:5px;word-break:break-all;word-wrap:break-word;background:#fff;padding:4px 5px;text-align:left;width:100%;outline:none}.detail[data-v-14feaf5e]{font-size:16px}.B_title[data-v-14feaf5e]{display:-webkit-box;display:-webkit-flex;display:flex}.B_title .name[data-v-14feaf5e]{position:relative;line-height:1}.B_title .name[data-v-14feaf5e]::after{content:"";display:block;background-color:#ff6811;height:4px;width:100%;position:absolute;bottom:-9px;left:0}.book_num .slot_amount[data-v-14feaf5e]{width:%?280?%}\r\n/* 頂部 */.Dtop .title[data-v-14feaf5e]{padding-left:13px;font-size:20px;font-weight:700;letter-spacing:2px;height:35px;color:#333;padding-top:10px;background:#fff}.Dtop .amount[data-v-14feaf5e]{padding:12px 15px 10px}.Dtop .pro .sel-box[data-v-14feaf5e]{background:#e6e2e0;border-radius:6px;margin:10px 0;position:relative}.Dtop .pro .sel[data-v-14feaf5e]{background:#ffa470;border-radius:6px;height:6px}.Dtop .pro .prov[data-v-14feaf5e]{font-size:12px;color:#ff6811;line-height:26px;margin-left:5px}.Dtop .count .p[data-v-14feaf5e]{color:#333;font-size:15px}.Dtop .count .p span[data-v-14feaf5e]{color:#ff6811;margin:0 3px;font-size:18px}.Dtop .tip[data-v-14feaf5e]{border-top:#ccc 1px solid;background:#fff;padding:15px;color:#333;font-size:14px;border-bottom:#ccc 1px solid}\r\n/* 感謝愛心人士 */.desca[data-v-14feaf5e]{border-bottom:#ccc 1px solid;border-top:#ccc 1px solid;background:#fff;padding:15px;margin:15px 0}.desca .tt span[data-v-14feaf5e]{color:#ff6811;margin:0 3px}.ctx .imgs[data-v-14feaf5e]{width:90%;margin-top:10px;position:relative}.ctx .imgs .ed[data-v-14feaf5e]{background:url(http://wx.ciensi.net/m/picture/ff.png) no-repeat bottom}.ctx .imgs .li[data-v-14feaf5e]{padding-bottom:20px;margin-right:10px;width:50px}.ctx .imgs .li .head[data-v-14feaf5e]{border-radius:50%;box-sizing:border-box;width:50px;height:50px;border:2px solid #fff}.ctx .imgs .ed .head[data-v-14feaf5e]{border:2px solid #ff9558;box-sizing:border-box}.ctx .arr .iconfont[data-v-14feaf5e]{display:-webkit-box;display:-webkit-flex;display:flex;font-size:28px;color:#999;width:20px;height:50px;line-height:50px;margin-top:10px}.ms[data-v-14feaf5e]{background:#eeefe9;border-radius:5px;padding:15px}.ms .ms1 span[data-v-14feaf5e]{color:#ff6811;margin:0 3px}.ms .ms2[data-v-14feaf5e]{color:#92928a;font-size:14px}\r\n/* 详情 */.detail .content[data-v-14feaf5e]{color:#5a5451}.detail .content .box .desc[data-v-14feaf5e]{padding:10px 0 20px}.detail .content .box .desc .tt[data-v-14feaf5e]{border-bottom:#ccc 1px solid;padding:0 20px 0 15px;font-weight:700;margin-bottom:10px}.detail .content .box .desc .tt span[data-v-14feaf5e]{display:block;width:80px;text-align:center;line-height:30px;margin-right:20px;font-size:15px}.detail .content .box .desc .hover[data-v-14feaf5e]{display:block;border-bottom:#f60 2px solid;width:80px;text-align:center;line-height:30px;float:left;margin-right:20px}.con-detail[data-v-14feaf5e]{font-size:16px;line-height:1.75em}.con-detail .p[data-v-14feaf5e]{text-align:justify}.con-detail .strong[data-v-14feaf5e],.con-detail .em[data-v-14feaf5e],.con-detail .span[data-v-14feaf5e]{display:inline}.con-detail .img[data-v-14feaf5e],.con-detail img[data-v-14feaf5e]{max-width:100%}\r\n/* 提交 */.detail .btn img[data-v-14feaf5e]{width:20px;height:20px;margin-right:5px;vertical-align:-4px}.detail .btn[data-v-14feaf5e]{position:fixed;bottom:0;width:100%;width:100%;height:35px;line-height:35px;font-size:16px;color:#fff;display:inline-block;border-radius:5px;border:1px #fe7225 solid;text-align:center;background:#ff6811}\r\n/* 留言 */.detail .list[data-v-14feaf5e]{background:#fff;border-top:1px solid #e8e7e6}.detail .list .li[data-v-14feaf5e]{margin:0;border-bottom:1px solid #e8e7e6;padding:10px 0}.detail .list .li[data-v-14feaf5e]:last-child{border-bottom:0}.detail .list .li .tou[data-v-14feaf5e]{float:left}.detail .list .li img[data-v-14feaf5e]{width:60px;height:60px;border-radius:30px;float:left}.detail .list .wenzi[data-v-14feaf5e]{margin-left:75px;color:#6a6562}.detail .list .gaiup[data-v-14feaf5e]{padding-bottom:10px}.detail .list .gai1[data-v-14feaf5e]{color:#b6aeab;min-width:50px}.detail .list .gai2 span[data-v-14feaf5e]{color:#f25a4c;font-weight:700;padding:0 3px}.detail .list .gaitime[data-v-14feaf5e]{padding:10px 0;line-height:22px;color:#b1a8a3}#footer-btn .icon[data-v-14feaf5e]{width:20px;height:20px;margin-right:5px;vertical-align:-4px}#footer-btn .Bitem[data-v-14feaf5e]{width:60px}.buy-index2[data-v-14feaf5e]  .dx-label,\r\n.buy-index2[data-v-14feaf5e]  uni-input,\r\n.buy-index2[data-v-14feaf5e]  uni-input,\r\n.buy-index2[data-v-14feaf5e]  .dx-cell,\r\n.buy-index2[data-v-14feaf5e]  uni-textarea{font-size:%?38?%!important}.buy-index2[data-v-14feaf5e]  .uni-input-placeholder,\r\n.buy-index2[data-v-14feaf5e]  .uni-input-placeholder{font-size:%?38?%!important}.buy-index2[data-v-14feaf5e]  .dx-select .picker{text-align:left!important}.buy-index2[data-v-14feaf5e]  .dx-label{width:%?260?%!important}',""]),e.exports=t},8915:function(e,t,a){"use strict";a.r(t);var o=a("896d"),i=a("183a");for(var r in i)"default"!==r&&function(e){a.d(t,e,(function(){return i[e]}))}(r);a("1430");var n,l=a("f0c5"),d=Object(l["a"])(i["default"],o["b"],o["c"],!1,null,"14feaf5e",null,!1,o["a"],n);t["default"]=d.exports},"896d":function(e,t,a){"use strict";var o;a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return o}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[a("page",{ref:"page",attrs:{parentData:e.data,formAction:e.formAction}}),e.data.show?a("v-uni-view",{staticClass:"pay detail"},[a("v-uni-view",{staticClass:"box-item buy-index2"},[a("v-uni-view",{staticClass:"B_title plr15 ptb20"},[a("v-uni-view",{staticClass:"name fs-20"},[e._v("功德主资料")])],1),a("weui-input",{attrs:{label:"功德主姓名",type:"text",name:"bless_name",datatype:"require",maxlength:6},model:{value:e.ruleform.bless_name,callback:function(t){e.$set(e.ruleform,"bless_name",t)},expression:"ruleform.bless_name"}}),a("weui-input",{attrs:{label:"手机号码",type:"number",name:"phone",datatype:"require"},model:{value:e.ruleform.phone,callback:function(t){e.$set(e.ruleform,"phone",t)},expression:"ruleform.phone"}}),a("weui-input",{attrs:{label:"出生年份",datatype:"require",name:"born_year",changeField:"value",type:"select",dataKey:"category",placeholder:"请选择年份"},on:{callback:function(t){arguments[0]=t=e.$handleEvent(t),e.bornCallBack.apply(void 0,arguments)}},model:{value:e.ruleform.born_year,callback:function(t){e.$set(e.ruleform,"born_year",t)},expression:"ruleform.born_year"}}),e.ruleform.book_name?a("weui-input",{attrs:{myclass:"book_num",label:"还寿生经数",name:"book_name",changeField:"value",type:"txt"},model:{value:e.ruleform.book_name+"　共"+(e.amount-20)+"元",callback:function(t){e.$set(e.ruleform,"book_name + '　共' +(amount-20)+'元'",t)},expression:"ruleform.book_name + '　共' +(amount-20)+'元'"}}):e._e(),a("weui-input",{attrs:{label:"供灯",name:"num2",type:"txt"},model:{value:e.ruleform.num2,callback:function(t){e.$set(e.ruleform,"num2",t)},expression:"ruleform.num2"}}),e.ruleform.book_name?a("weui-input",{attrs:{label:"总功德金",name:"num",type:"txt"},model:{value:e.amount,callback:function(t){e.amount=t},expression:"amount"}}):e._e(),a("weui-input",{attrs:{label:"功德主现住址",type:"text",name:"bless_address",datatype:"require"},model:{value:e.ruleform.bless_address,callback:function(t){e.$set(e.ruleform,"bless_address",t)},expression:"ruleform.bless_address"}}),a("weui-input",{attrs:{type:"textarea",name:"remark",placeholder:"如有特别说明请备注"},model:{value:e.ruleform.remark,callback:function(t){e.$set(e.ruleform,"remark",t)},expression:"ruleform.remark"}})],1),a("v-uni-view",{staticClass:"box-item content buy-index2"},[a("v-uni-view",{staticClass:"Btitle plr15 pt10"},[a("v-uni-view",{staticClass:"name fs-19 lh-30"},[e._v("回向文")])],1),a("v-uni-view",{staticClass:"plr15 ptb8"},[a("v-uni-textarea",{staticClass:"remark",staticStyle:{height:"100px"},attrs:{name:"remarks",id:"remarks",title:"请输入您的回向文",placeholder:"输入您的回向文，可先小回向(若有)，再大回向",cols:"",rows:""},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.ruleform.evaluate=""}},model:{value:e.ruleform.evaluate,callback:function(t){e.$set(e.ruleform,"evaluate",t)},expression:"ruleform.evaluate"}})],1)],1),a("v-uni-view",{staticClass:"plr20 pb30"},[a("v-uni-view",{staticClass:"dx-btn dx-btn-big dx-btn-orange w-b100 fs-19",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.formSubmit.apply(void 0,arguments)}}},[e._v("微信支付随喜")])],1)],1):e._e()],1)},r=[]},bf6b:function(e,t,a){"use strict";var o=a("4ea4");a("b680"),a("acd8"),a("ac1f"),a("1276"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(a("7a58")),r={components:{uParse:i.default},data:function(){return{formAction:"/project/show",mpType:"page",data:this.formatData(this),amountArr:[],showType:0,category:[],ruleform:{name:"",phone:"",amount:20,otheramount:"",is_post:3,type:1,evaluate:"",num:20,num2:"20元/盏"},vaildate:{},open:!1,getSiteName:this.getSiteName(),sendTypeArr:[{label:"需要",value:1},{label:"不需要",value:2}]}},computed:{amount:function(){var e=0;return this.ruleform.book_num&&(e=this.ruleform.book_num*this.ruleform.num),e+=20,e.toFixed(2)},bookNum:function(){}},onShareAppMessage:function(){return this.shareSource(this,"商城1")},onLoad:function(e){this.ajax()},methods:{bornCallBack:function(e){this.$set(this.ruleform,"book_name",e.name2),this.$set(this.ruleform,"book_num",e.num),this.$set(this.ruleform,"num",20),console.log(e)},formSubmitForH5:function(e,t){var a=this;this.updateUrl(["/pages/index/index"]),this.payUniapp(e,(function(e){return a.goto("/pages/project/order/payed/index?order_no="+t)}),(function(e){return a.goto("/pages/project/order/payed/index?order_no="+t)}))},formSubmit:function(){var e=this;return console.log(this.ruleform),this.ruleform.can_post&&3==this.ruleform.is_post?(this.getError("请选择是否需要邮寄"),!1):this.ruleform.book_num?this.ruleform.bless_name?0!=this.ruleform.amount||this.ruleform.otheramount?0==this.ruleform.amount&&0==this.ruleform.otheramount?(this.getError("金額不能為0"),!1):(this.ruleform.project_id=this.data.detail.id,this.ruleform.amount=parseFloat(this.amount),void this.postAjax(this.formAction,this.ruleform).then((function(t){2==t.data.status&&e.formSubmitForH5(t.data.config,t.data.detail.order_no)}))):(this.getError("金額不能為空"),!1):(this.getError("功德主不能为空"),!1):this.getError("请选择出生年份")},ajax:function(){var e=this;this.getAjax(this).then((function(t){e.setTitle(t.detail.name),e.amountArr=t.detail.amount_str.split(","),e.ruleform.type=t.detail.type,e.category=t.category,t.projectOrder?(e.ruleform=t.projectOrder,e.ruleform.amount=e.amountArr[0],e.ruleform.show_other_price=t.detail.show_other_price,e.ruleform.evaluate=t.detail.evaluate,e.ruleform.address_require=t.detail.address_require,e.ruleform.phone_require=t.detail.phone_require,e.ruleform.can_post=t.detail.can_post,e.ruleform.otheramount="",delete e.ruleform.id,delete e.ruleform.status,delete e.ruleform.online):(e.ruleform.amount=e.amountArr[0],e.ruleform.show_other_price=t.detail.show_other_price,e.ruleform.evaluate=t.detail.evaluate,e.ruleform.address_require=t.detail.address_require,e.ruleform.phone_require=t.detail.phone_require,e.ruleform.can_post=t.detail.can_post)}))}}};t.default=r},c9fe:function(e,t,a){var o=a("39a4");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var i=a("4f06").default;i("ca388bf2",o,!0,{sourceMap:!1,shadowMode:!1})}}]);