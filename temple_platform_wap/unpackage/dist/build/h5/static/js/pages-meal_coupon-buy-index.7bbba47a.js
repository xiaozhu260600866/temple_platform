(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-meal_coupon-buy-index"],{"0b6e":function(e,t,i){"use strict";i.r(t);var a=i("7d8c"),r=i.n(a);for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);t["default"]=r.a},1402:function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'.pay .weui-label{width:95px}.pay .box-item{margin-bottom:12px;background:#fff}.pay .weui-cell{padding:8px 15px;color:#333}\r\n/* 金额 */.pay-price .item{min-width:calc(25% - 10px);margin:5px;border:1px #e1e1e1 solid;border-radius:4px;text-align:center;line-height:36px;height:38px;padding:0 10px}.pay-price .item .price{color:#aaa;text-align:center;font-size:18px;color:#ff721f}.pay-price .item.select{background:#ff721f;border-color:#ff721f}.pay-price .item.select .price{color:#fff!important}.pay-price .other{-webkit-box-flex:1;-webkit-flex:1;flex:1;overflow:hidden;width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.pay-price .other.select{background:#fff}.anonymous .select{width:14px;height:14px;border:1px #ccc solid;border-radius:3px;margin-right:3px}.anonymous .yes:before{content:"";display:block;width:8px;height:4px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);border-width:0 0 1px 1px;border-style:solid;border-color:red;margin-top:2px;margin-left:2px}.order-price .weui-cell{padding:0 15px}.content .weui-cell{border-bottom:0}\r\n/* .content .weui-input{line-height: 20px;color: #999;width: 100%;border: 1px #e1e1e1 solid;padding: 10px;border-radius: 6px;} */.pay .top{border-top:1px solid #dad7d0;border-bottom:1px solid #d2d2d2;line-height:40px}.pay .top .tip{color:#56504d}.pay .top .close{width:40px;height:40px;text-align:center}.pay .box{margin:20px}.pay .box .tb{width:100%;font-size:16px;color:#b0a7a2}.pay .box .tb .ed{border:2px solid #f37b30;background:url(http://wx.ciensi.net/m/picture/yqj_selected.png) no-repeat 100% 0}.pay .box .tb .sel{font-size:14px;line-height:26px;border:1px solid #c5c0b8;border-radius:5px;word-break:break-all;word-wrap:break-word;background:#fff;padding:4px 5px;text-align:center;width:100%;outline:none;height:38px;color:#000}.pay .box .Info .sel{display:-webkit-box;display:-webkit-flex;display:flex;text-align:left}.pay .box .Info .sel .name{color:red}.pay .box .Info .sel .input{-webkit-box-flex:1;-webkit-flex:1;flex:1;overflow:hidden;width:100%;text-align:left}\r\n/* .pay .anonymous .anonymouscheck {width: 12px;height: 12px;vertical-align: -1px;}\r\n.pay .anonymous {font-size: 14px;color: #b0a7a2;margin-top: 10px;text-align: center;} */.other{width:14px;height:14px;float:right;margin-right:-5px;margin-top:-5px;display:block}.pay .box .tb .sel uni-input{border:0;width:90px;height:25px;font-size:16px;color:#fc7d37;text-align:center;-webkit-appearance:none}.pay .box .btn_{margin-top:18px;width:100%;height:37px;line-height:35px;font-size:16px;color:#fff;display:inline-block;border-radius:5px;text-align:center;background:#ff6c0a}.remark{font-size:14px;line-height:26px;border:1px solid #c5c0b8;border-radius:5px;word-break:break-all;word-wrap:break-word;background:#fff;padding:4px 5px;text-align:left;width:100%;outline:none}',""]),e.exports=t},"18bf":function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'@font-face{font-family:numberbox;src:url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAASQAA0AAAAABtwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAEdAAAABoAAAAciBpnRUdERUYAAARUAAAAHgAAAB4AKQALT1MvMgAAAZwAAABDAAAAVjxzSINjbWFwAAAB9AAAAEYAAAFK5zLpOGdhc3AAAARMAAAACAAAAAj//wADZ2x5ZgAAAkgAAACHAAAAnIfIEjxoZWFkAAABMAAAAC8AAAA2FZWEOWhoZWEAAAFgAAAAHAAAACQH3gOFaG10eAAAAeAAAAARAAAAEgwAAAFsb2NhAAACPAAAAAwAAAAMADAATm1heHAAAAF8AAAAHwAAACABEAAobmFtZQAAAtAAAAFJAAACiCnmEVVwb3N0AAAEHAAAAC0AAABV/+8iFXjaY2BkYGAA4gVmC5Tj+W2+MnCzMIDATWsFOQT9v5GFgbkeyOVgYAKJAgDrogf+AHjaY2BkYGBu+N/AEMPCAAJAkpEBFbAAAEcKAm142mNgZGBgYGWQYQDRDAxMQMwFhAwM/8F8BgALpAE5AHjaY2BkYWCcwMDKwMDUyXSGgYGhH0IzvmYwYuQAijKwMjNgBQFprikMDs9Yn01kbvjfwBDD3MDQABRmBMkBAOXpDHEAeNpjYYAAFghmZGAAAACdAA4AAAB42mNgYGBmgGAZBkYGEHAB8hjBfBYGDSDNBqQZGZiesT6b+P8/AwOElvwnWQxVDwSMbAxwDiMTkGBiQAWMDMMeAABRZwszAAAAAAAAAAAAAAAwAE542iWKQQrCMBBF5xNpd0pQ7EIoTEnahSCTUNqdWz2A9TrieXKeXCc1qcPn/zfzh0BYv2pVH7oQgbvqdG5Yt/DTrNlPYz+wHvuuqhFSME4sFshTgKUsKfhH5lg8BSul3i5bS3mQdd0RIh2IjnvUrkXDd8zuhuFt86tY9fonIsSYgsXpB+cCGosAeNp9kD1OAzEQhZ/zByQSQiCoXVEA2vyUKRMp9Ailo0g23pBo1155nUg5AS0VB6DlGByAGyDRcgpelkmTImvt6PObmeexAZzjGwr/3yXuhBWO8ShcwREy4Sr1F+Ea+V24jhY+hRvUf4SbuFUD4RYu1BsdVO2Eu5vSbcsKZxgIV3CKJ+Eq9ZVwjfwqXMcVPoQb1L+EmxjjV7iFa2WpDOFhMEFgnEFjig3jAjEcLJIyBtahOfRmEsxMTzd6ETubOBso71dilwMeaDnngCntPbdmvkon/mDLgdSYbh4FS7YpjS4idCgbXyyc1d2oc7D9nu22tNi/a4E1x+xRDWzU/D3bM9JIbAyvkJI18jK3pBJTj2hrrPG7ZynW814IiU68y/SIx5o0dTr3bmniwOLn8owcfbS5kj33qBw+Y1kIeb/dTsQgil2GP5PYcRkAAAB42mNgYoAALjDJyIAOWMGiTIxMjMwiWZmJQJRXVQoigTgjMd9QGIsgAFDsEBsAAAAAAAAB//8AAgABAAAADAAAABYAAAACAAEAAwAEAAEABAAAAAIAAAAAeNpjYGBgZACCq0vUOUD0TWsFORgNADPBBE4AAA==) format("woff");font-weight:400;font-style:normal}.tui-numbox-icon[data-v-467bc614]{font-family:numberbox!important;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;padding:%?10?%}.tui-icon-reduce[data-v-467bc614]:before{content:"\\e691"}.tui-icon-plus[data-v-467bc614]:before{content:"\\e605"}.tui-numberbox[data-v-467bc614]{display:-webkit-inline-flex;display:-webkit-inline-box;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.tui-num-input[data-v-467bc614]{text-align:center;margin:0 %?10?%;font-weight:700}.tui-disabled[data-v-467bc614]{color:#ededed!important}',""]),e.exports=t},"3ddf":function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'.detail{font-size:%?32?%}\r\n\r\n\r\n/* 详情 */.detail .title{padding:10px 15px;font-size:17px;font-weight:700;color:#333;line-height:1.6}.detail .content{color:#5a5451}.detail .tt{border-bottom:#eee %?2?% solid;padding:0 %?30?%;margin-bottom:%?20?%;display:-webkit-box;display:-webkit-flex;display:flex}.detail .tt .name{text-align:center;line-height:%?60?%;margin:0 %?30?%;font-size:%?36?%;padding:%?10?% 0}.detail .tt .hover{display:block;border-bottom:#f60 %?8?% solid;text-align:center;line-height:%?60?%}.con-detail{font-size:16px;line-height:1.75em}.con-detail .p{text-align:justify}.con-detail .strong,.con-detail .em,.con-detail .span{display:inline}.con-detail .img,.con-detail img{max-width:100%}.detail .count{padding:0 15px 10px 15px}.detail .count .p{color:#333;font-size:15px}.detail .count .p span{color:#ff6811;margin:0 3px;font-size:18px}.item_tab{padding:10px 15px}.tabG{display:-webkit-box;display:-webkit-flex;display:flex}.tabG .item{width:110px;height:40px;line-height:40px;text-align:center;border:1px #dfdfdf solid;margin-right:10px;border-radius:4px;color:#939393}.tabG .select{position:relative;color:#ff6811;border-color:#ff6811;overflow:hidden}.tabG .select::before{content:"";display:block;position:absolute;right:5px;top:-1px;width:6px;height:10px;border-width:0 1.5px 1.5px 0;border-color:#fff;border-style:solid;-webkit-transform:rotate(45deg);transform:rotate(45deg);z-index:2}.tabG .select::after{content:"";display:block;position:absolute;right:-22px;top:-22px;width:40px;height:40px;background-color:#ff6811;-webkit-transform:rotate(45deg);transform:rotate(45deg);z-index:1}\r\n\r\n\r\n/* 留言 */.detail .list{background:#fff;border-top:1px solid #e8e7e6}.detail .list .li{margin:0;border-bottom:1px solid #e8e7e6;padding:10px 0}.detail .list .li:last-child{border-bottom:0}.detail .list .li .tou{float:left}.detail .list .li img{width:60px;height:60px;border-radius:30px;float:left}.detail .list .wenzi{margin-left:75px;color:#6a6562}.detail .list .gaiup{padding-bottom:10px}.detail .list .gai1{color:#b6aeab;min-width:50px}.detail .list .gai2 span{color:#f25a4c;font-weight:700;padding:0 3px}.detail .list .gaitime{padding:10px 0;line-height:22px;color:#b1a8a3}#footer-btn .icon{width:20px;height:20px;margin-right:5px;vertical-align:-4px}#footer-btn .Bitem{width:60px}.f-pay-btn{border-radius:10px!important;background:-webkit-linear-gradient(left,#ff8b4d,#fb694f)!important;background:linear-gradient(90deg,#ff8b4d,#fb694f)!important}\r\n\r\n\r\n/* 选择什么放生 */.why-free .why-cell{-webkit-flex-wrap:wrap;flex-wrap:wrap}.why-free .why-cell>.dx-cell_hd{width:100%}.why-free .dx-cell_hd .dx-label{width:100%!important;padding:0 0 10px 0!important}.why-free .col_group{-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.why-free .col_group .dx-cell{margin-left:0;width:100px;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;font-size:16px!important}.why-free .col_group .dx-checkbox uni-checkbox{zoom:120%}',""]),e.exports=t},"5bfb":function(e,t,i){"use strict";i.r(t);var a=i("92d9"),r=i("8a39");for(var n in r)"default"!==n&&function(e){i.d(t,e,(function(){return r[e]}))}(n);i("705d");var o,l=i("f0c5"),s=Object(l["a"])(r["default"],a["b"],a["c"],!1,null,"467bc614",null,!1,a["a"],o);t["default"]=s.exports},"5e89":function(e,t,i){var a=i("861d"),r=Math.floor;e.exports=function(e){return!a(e)&&isFinite(e)&&r(e)===e}},"679c":function(e,t,i){var a=i("3ddf");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=i("4f06").default;r("4ea0ec6e",a,!0,{sourceMap:!1,shadowMode:!1})},"705d":function(e,t,i){"use strict";var a=i("de97"),r=i.n(a);r.a},"7ca7":function(e,t,i){"use strict";var a;i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return a}));var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("page",{ref:"page",attrs:{parentData:e.data,formAction:e.formAction}}),e.data.show?i("v-uni-view",{staticClass:"pay detail pb50"},[i("v-uni-view",{staticClass:"banner"},[i("myswiper",{attrs:{lists:e.data.covers,purl:"project"}})],1),i("v-uni-view",{staticClass:"box-item"},[i("v-uni-view",{staticClass:"title"},[e._v(e._s(e.data.detail.name))]),i("v-uni-view",{staticClass:"count flex-between"},[i("v-uni-view",{staticClass:"p"},[e._v("已捐"),i("span",{staticClass:"fc-red plr3"},[e._v(e._s(e.data.detail.orderSum))]),e._v("份")]),i("v-uni-view",{staticClass:"p"},[e._v("随喜次数"),i("span",[e._v(e._s(e.data.detail.orderNum))]),e._v("人")])],1)],1),i("v-uni-view",{staticClass:"box-item why-free"},[i("weui-input",{attrs:{myclass:"why-cell",datatype:"array",errorMessage:"选择为什么放生",label:"你今天选择为什么放生？",name:"why",changeField:"value",type:"checkbox",dataKey:"whyArr",row:!1},model:{value:e.ruleform.why,callback:function(t){e.$set(e.ruleform,"why",t)},expression:"ruleform.why"}})],1),i("v-uni-view",{staticClass:"box-item m12 bdr6"},[i("v-uni-view",{staticClass:"item_tab"},[i("v-uni-view",{staticClass:"Btitle pb5"},[i("v-uni-view",{staticClass:"name lh-30"},[e._v("选择项目")])],1),i("v-uni-view",{staticClass:"tabG"},e._l(e.amountArr,(function(t){return t?i("v-uni-view",{class:["item",e.ruleform.amount==t?"select":""]},[i("v-uni-view",{on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.ruleform.amount=t}}},[e._v(e._s(t))])],1):e._e()})),1)],1),i("v-uni-view",{staticClass:"buy-num plr15 ptb10 flex-between bd-te"},[i("v-uni-view",{staticClass:"fs-16 lh-30"},[e._v("数量")]),i("tui-numberbox",{attrs:{value:e.num,max:1e4},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.change.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"plr15 ptb10 flex-between bd-te fs-16 lh-30"},[i("v-uni-view",[e._v("随喜金额")]),i("v-uni-view",[i("v-uni-text",{staticClass:"price"},[e._v(e._s(e.getAmount(e.ruleform.amount)*e.num))]),e._v("份")],1)],1)],1),i("v-uni-view",{staticClass:"box-item people-info m12 bdr6"},[i("v-uni-view",{staticClass:"Btitle plr15 pt10"},[i("v-uni-view",{staticClass:"name lh-30"},[e._v("功德主资料")])],1),i("weui-input",{attrs:{label:"功德主姓名",type:"text",name:"bless_name",datatype:"require",maxlength:6},model:{value:e.ruleform.bless_name,callback:function(t){e.$set(e.ruleform,"bless_name",t)},expression:"ruleform.bless_name"}}),i("weui-input",{attrs:{label:"功德主手机",type:"number",name:"phone",datatype:e.ruleform.phone_require&&!e.open?"require":""},model:{value:e.ruleform.phone,callback:function(t){e.$set(e.ruleform,"phone",t)},expression:"ruleform.phone"}}),i("weui-input",{attrs:{label:"功德主地址",type:"text",name:"bless_address",datatype:e.ruleform.address_require?"require":""},model:{value:e.ruleform.bless_address,callback:function(t){e.$set(e.ruleform,"bless_address",t)},expression:"ruleform.bless_address"}}),i("weui-input",{attrs:{type:"textarea",name:"remark",placeholder:"请输入备注"},model:{value:e.ruleform.remark,callback:function(t){e.$set(e.ruleform,"remark",t)},expression:"ruleform.remark"}}),e.ruleform.can_post?i("weui-input",{attrs:{label:"邮寄",name:"is_post",changeField:"value",type:"radio",dataKey:"sendTypeArr",radioType:!1},model:{value:e.ruleform.is_post,callback:function(t){e.$set(e.ruleform,"is_post",t)},expression:"ruleform.is_post"}}):e._e(),e.ruleform.can_post&&1==e.ruleform.is_post?i("weui-input",{attrs:{type:"text",name:"post_address",label:"邮寄地址",datatype:"require"},model:{value:e.ruleform.post_address,callback:function(t){e.$set(e.ruleform,"post_address",t)},expression:"ruleform.post_address"}}):e._e()],1),i("v-uni-view",{staticClass:"box-item content m12 bdr6"},[i("v-uni-view",{staticClass:"Btitle plr15 pt10"},[i("v-uni-view",{staticClass:"name lh-30"},[e._v("回向文")])],1),i("v-uni-view",{staticClass:"plr15 ptb8"},[i("v-uni-textarea",{staticClass:"remark",staticStyle:{height:"100px"},attrs:{name:"remarks",id:"remarks",title:"请输入您的回向文",placeholder:"输入您的回向文，可先小回向(若有)，再大回向",cols:"",rows:""},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.ruleform.evaluate=""}},model:{value:e.ruleform.evaluate,callback:function(t){e.$set(e.ruleform,"evaluate",t)},expression:"ruleform.evaluate"}})],1)],1),i("v-uni-view",{staticClass:"box-item content"},[i("v-uni-view",{staticClass:"tt"},[i("v-uni-view",{staticClass:"name",class:[0==e.showType?"hover":""],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showType=0}}},[e._v("详情")]),i("v-uni-view",{staticClass:"name",class:[1==e.showType?"hover":""],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showType=1}}},[e._v("留言("),i("v-uni-text",{staticClass:"Arial fc-red"},[e._v(e._s(e.data.orderCount))]),e._v(")")],1)],1),0==e.showType?i("v-uni-view",{staticClass:"con-detail plr10"},[i("u-parse",{attrs:{content:e.data.detail.content}})],1):e._e(),1==e.showType?i("v-uni-view",[i("v-uni-view",{staticClass:"ml15 mr20 lh-30"},[e._v("参与善士")]),i("v-uni-view",{staticClass:"list mlr15"},[i("v-uni-view",{staticClass:"items"},e._l(e.data.lists.data,(function(t){return i("v-uni-view",{staticClass:"li"},[i("v-uni-view",{staticClass:"wenzi ml0"},[i("v-uni-view",{staticClass:"gaiup flex"},[i("v-uni-view",{staticClass:"gai1"},[e._v(e._s(e.formatName(t.bless_name?t.bless_name:t.user.nickname)))]),i("v-uni-view",{staticClass:"gai2"},[e._v("行善"),i("span",{staticClass:"fs-16"},[e._v(e._s(t.amount.split(".")[0]))]),e._v("份")])],1),i("v-uni-view",{staticClass:"gaidown"},[e._v(e._s(t.evaluate))]),i("v-uni-view",{staticClass:"gaitime"},[e._v(e._s(t.payed_at))])],1)],1)})),1),i("hasMore",{attrs:{parentData:e.data}})],1)],1):e._e()],1),i("v-uni-view",{staticClass:"p0 bd-te pl10",attrs:{id:"footer-btn"}},[i("v-uni-view",{staticClass:"Bitem text-center",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goto("/pages/index/index",2)}}},[i("v-uni-view",{staticClass:"ticon"},[i("i",{staticClass:"iconfont icon-home"})]),i("v-uni-view",{staticClass:"bname"},[e._v("首页")])],1),i("v-uni-view",{staticClass:"Bitem text-center",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.phone("0750-3663581")}}},[i("v-uni-view",{staticClass:"ticon"},[i("i",{staticClass:"iconfont icon-tel"})]),i("v-uni-view",{staticClass:"bname"},[e._v("客堂电话")])],1),i("v-uni-view",{staticClass:"flex1 pr10 ptb5 ml20"},[i("v-uni-view",{staticClass:"f-dx-btn dx-btn-orange text-center f-pay-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.formSubmit.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"iconfont icon-like-circle fc-white fs-18 pr5"}),e._v("微信支付随喜")],1)],1)],1)],1):e._e()],1)},n=[]},"7d8c":function(e,t,i){"use strict";var a=i("4ea4");i("b680"),i("acd8"),i("ac1f"),i("5319"),i("1276"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(i("ade3"));i("fea7"),i("679c");var n=a(i("7a58")),o=a(i("5bfb")),l={components:{uParse:n.default,tuiNumberbox:o.default},data:function(){var e;return e={formAction:"/project/show",mpType:"page",data:this.formatData(this),amountArr:[],ruleform:{},showType:0},(0,r.default)(e,"ruleform",{name:"",phone:"",amount:20,otheramount:"",is_post:3,type:1,evaluate:""}),(0,r.default)(e,"num",1),(0,r.default)(e,"vaildate",{}),(0,r.default)(e,"open",!1),(0,r.default)(e,"getSiteName",this.getSiteName()),(0,r.default)(e,"sendTypeArr",[{label:"需要",value:1},{label:"不需要",value:2}]),(0,r.default)(e,"whyArr",[{label:"家庭",value:"家庭"},{label:"事业",value:"事业"},{label:"病痛",value:"病痛"},{label:"烦恼",value:"烦恼"},{label:"障碍",value:"障碍"},{label:"智慧",value:"智慧"},{label:"健康",value:"健康"},{label:"生日",value:"生日"},{label:"添寿",value:"添寿"}]),e},computed:{amount:function(){var e=0;return this.ruleform.amount&&(e+=parseFloat(this.ruleform.amount)),this.ruleform.amount&&this.ruleform.is_top&&(e+=parseFloat(this.ruleform.top_price)),e.toFixed(2)}},onShareAppMessage:function(){return this.shareSource(this,"商城")},onLoad:function(e){this.ajax()},onReachBottom:function(){this.hasMore(this)},methods:{getAmount:function(e){return e=e.replace(/[^0-9]/gi,""),e},change:function(e){this.index=e.index,this.current=e.index,this.num=e.value},formSubmitForH5:function(e,t){var i=this;this.updateUrl(["/pages/index/index"]),this.payUniapp(e,(function(e){return i.goto("/pages/project/order/payed/index?order_no="+t)}),(function(e){return i.goto("/pages/project/order/payed/index?order_no="+t)}))},formSubmit:function(){var e=this;if(console.log(this.ruleform),0==this.ruleform.why.length)return this.getError("请选择你今天为什么放生？"),!1;if(this.ruleform.can_post&&3==this.ruleform.is_post)return this.getError("请选择是否需要邮寄"),!1;if(!this.ruleform.bless_name)return this.getError("功德主不能为空"),!1;if(0==this.ruleform.amount&&!this.ruleform.otheramount)return this.getError("金額不能為空"),!1;if(0==this.ruleform.amount&&0==this.ruleform.otheramount)return this.getError("金額不能為0"),!1;if(!this.open&&!this.ruleform.phone&&this.ruleform.phone_require)return this.getError("電話不能為空"),!1;if(this.ruleform.phone){var t=/(^1[3|4|5|7|8|9]\d{9}$)|(^09\d{8}$)/;if(!t.test(this.ruleform.phone))return this.getError("手机格式不正确"),!1}if(this.ruleform.address_require&&!this.ruleform.bless_address)return this.getError("地址不能为空"),!1;this.ruleform.project_id=this.data.detail.id,this.ruleform.amount=this.getAmount(this.ruleform.amount),console.log(this.ruleform.amount),this.ruleform.num=this.num,this.postAjax(this.formAction,this.ruleform).then((function(t){2==t.data.status&&e.formSubmitForH5(t.data.config,t.data.detail.order_no)}))},ajax:function(){var e=this;this.getAjax(this).then((function(t){e.setTitle(t.detail.name),e.$refs.page.share(t.detail.name,t.detail.firstCover,e.data.siteConfig.share_descript),e.amountArr=t.detail.amount_str.split(","),e.ruleform.type=t.detail.type,e.ruleform.amount=e.amountArr[0],e.ruleform.show_other_price=t.detail.show_other_price,e.ruleform.evaluate=t.detail.evaluate,e.ruleform.address_require=t.detail.address_require,e.ruleform.phone_require=t.detail.phone_require,e.ruleform.can_post=t.detail.can_post}))}}};t.default=l},"8a39":function(e,t,i){"use strict";i.r(t);var a=i("8dcd"),r=i.n(a);for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);t["default"]=r.a},"8ba4":function(e,t,i){var a=i("23e7"),r=i("5e89");a({target:"Number",stat:!0},{isInteger:r})},"8dcd":function(e,t,i){"use strict";i("a9e3"),i("8ba4"),i("ac1f"),i("1276"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={name:"tuiNumberbox",props:{value:{type:Number,default:1},min:{type:Number,default:1},max:{type:Number,default:100},step:{type:Number,default:1},disabled:{type:Boolean,default:!1},iconsize:{type:Number,default:24},iconcolor:{type:String,default:"#333"},height:{type:Number,default:50},width:{type:Number,default:90},bgcolor:{type:String,default:"#f2f2f2"},color:{type:String,default:"#333"},dataKey:{type:Number,default:1}},computed:{currentValue:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},val:function(){return this.value}},data:function(){return{}},methods:{px:function(e){return uni.upx2px(e)+"px"},getScale:function(){var e=1;return Number.isInteger(this.step)||(e=Math.pow(10,(this.step+"").split(".")[1].length)),e},calcNum:function(e){if(!this.disabled){var t=this.getScale(),i=this.value*t,a=this.step*t;"reduce"===e?i-=a:"plus"===e&&(i+=a);var r=i/t;r<this.min||r>this.max||this.handleChange(r,e)}},plus:function(){this.calcNum("plus")},reduce:function(){this.calcNum("reduce")},blur:function(e){var t=e.detail.value;t?(t=+t,t>this.max?t=this.max:t<this.min&&(t=this.min)):t=this.min,this.handleChange(t,"blur")},handleChange:function(e,t){this.disabled||(this.currentValue=e,this.$emit("change",{value:e,key:this.dataKey,type:t}))}}};t.default=a},"92d9":function(e,t,i){"use strict";var a;i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return a}));var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"tui-numberbox-class tui-numberbox"},[i("v-uni-view",{staticClass:"tui-numbox-icon tui-icon-reduce ",class:[e.disabled||e.min>=e.currentValue?"tui-disabled":""],style:{color:e.iconcolor,fontSize:e.px(e.iconsize)},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.reduce.apply(void 0,arguments)}}}),i("v-uni-input",{staticClass:"tui-num-input",style:{color:e.color,fontSize:e.px(e.iconsize),background:e.bgcolor,height:e.px(e.height),width:e.px(e.width)},attrs:{type:"number",disabled:e.disabled},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.blur.apply(void 0,arguments)}},model:{value:e.currentValue,callback:function(t){e.currentValue=t},expression:"currentValue"}}),i("v-uni-view",{staticClass:"tui-numbox-icon tui-icon-plus",class:[e.disabled||e.currentValue>=e.max?"tui-disabled":""],style:{color:e.iconcolor,fontSize:e.px(e.iconsize)},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.plus.apply(void 0,arguments)}}})],1)},n=[]},a983:function(e,t,i){"use strict";i.r(t);var a=i("7ca7"),r=i("0b6e");for(var n in r)"default"!==n&&function(e){i.d(t,e,(function(){return r[e]}))}(n);var o,l=i("f0c5"),s=Object(l["a"])(r["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],o);t["default"]=s.exports},de97:function(e,t,i){var a=i("18bf");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=i("4f06").default;r("8d8ac630",a,!0,{sourceMap:!1,shadowMode:!1})},fea7:function(e,t,i){var a=i("1402");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=i("4f06").default;r("b2e5020c",a,!0,{sourceMap:!1,shadowMode:!1})}}]);