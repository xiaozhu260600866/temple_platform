(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-tablet-activity-payed-index~pages-user-order-tablet"],{2590:function(t,e,i){"use strict";i.r(e);var n=i("7a8e"),a=i("c15b");for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);var r,l=i("f0c5"),h=Object(l["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=h.exports},"26dc":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("v-uni-view",["pages/user/order/project"==t.url?i("v-uni-image",{attrs:{src:"/static/receipt-bg3.jpg",hidden:!0},on:{load:function(e){arguments[0]=e=t.$handleEvent(e),t.imageLoad.apply(void 0,arguments)}}}):t._e(),"pages/user/order/project"!=t.url?i("v-uni-image",{attrs:{src:"/static/receipt-bg3.jpg",hidden:!0},on:{load:function(e){arguments[0]=e=t.$handleEvent(e),t.imageLoad.apply(void 0,arguments)}}}):t._e(),i("v-uni-canvas",{style:"width: "+t.width+"px; height: 400rpx;left:-1300px",attrs:{"canvas-id":"firstCanvas"}}),i("img",{attrs:{src:t.tempFilePath,preview:"1",id:"temp"}})],1):t._e()},s=[]},"676c":function(t,e,i){"use strict";i.r(e);var n=i("8573"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},"74e0":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("v-uni-view",{staticClass:"bg-f"},[i("v-uni-canvas",{style:"width: "+t.width+"px; height: "+t.height+"px;left:-1300px",attrs:{"canvas-id":"firstCanvas"}}),i("v-uni-image",{attrs:{src:"/static/printf_bg.jpg",hidden:!0},on:{load:function(e){arguments[0]=e=t.$handleEvent(e),t.imageLoad.apply(void 0,arguments)}}})],1):t._e()},s=[]},"76ca":function(t,e,i){"use strict";i("4160"),i("ac1f"),i("1276"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{posterShow:!0,width:375,show:!1,height:600,nameSize:3,peopleNum:2,no:"A001",name1:"梁敏英",name2:"梁敏芝",name3:"梁敏强",name4:"梁敏伟",item:{},rpx:0,address:"江门市蓬江区建设路92号建行大厦8楼806室"}},mounted:function(){var t=this;uni.getSystemInfo({success:function(e){t.width=e.windowWidth,t.height=e.windowHeight,t.rpx=e.windowWidth/375}});var e="财源茂盛";console.log(e.length,123)},methods:{init:function(t,e,i,n,a,s){var r=[t,e,i,n],l=0;r.forEach((function(t){t.length>l&&(l=t.length)})),this.nameSize=l,this.name1=t,this.name2=e,this.name3=i,this.name4=n,this.peopleNum=a,this.address=s.address,this.show=!0,this.no=s.no},imageLoad:function(t){var e=this,i=t.detail.width,n=t.detail.height,a=i/n,s=this.width,r=this.width/a;this.height=r,console.log(this.peopleNum);var l=uni.createCanvasContext("firstCanvas"),h=this.rpx;l.drawImage("/static/printf_bg.jpg",0,0,s,r),l.setFontSize(16),l.setFillStyle("#000"),l.fillText("No："+this.no,10*h,30*h),l.setFillStyle("#000"),l.font="bold 14px 微软雅黑",l.setTextAlign("center");this.drawArticle(l,this.address,14*h,s-50*h,255*h);if(l.setFillStyle("#000"),this.nameSize<=3&&1==this.peopleNum){l.font="bold 36px 微软雅黑";this.drawArticle(l,this.name1,50*h,s/2,355*h)}else if(4==this.nameSize&&1==this.peopleNum){l.font="bold 34px 微软雅黑";this.drawArticle(l,this.name1,40*h,s/2,345*h)}else if(5==this.nameSize&&1==this.peopleNum){l.font="bold 32px 微软雅黑";this.drawArticle(l,this.name1,34*h,s/2,340*h)}else if(6==this.nameSize&&1==this.peopleNum){l.font="bold 28px 微软雅黑";this.drawArticle(l,this.name1,30*h,s/2,330*h)}else if(this.nameSize<=3&&2==this.peopleNum){l.font="bold 36px 微软雅黑";this.drawArticle(l,this.name1,50*h,s/2-25,355*h),this.drawArticle(l,this.name2,50*h,s/2+25,355*h)}else if(4==this.nameSize&&2==this.peopleNum){l.font="bold 34px 微软雅黑";this.drawArticle(l,this.name1,40*h,s/2-24,345*h),this.drawArticle(l,this.name2,40*h,s/2+24,345*h)}else if(5==this.nameSize&&2==this.peopleNum){l.font="bold 32px 微软雅黑";this.drawArticle(l,this.name1,34*h,s/2-22,340*h),this.drawArticle(l,this.name2,34*h,s/2+22,340*h)}else if(6==this.nameSize&&2==this.peopleNum){l.font="bold 28px 微软雅黑";this.drawArticle(l,this.name1,28*h,s/2-20,330*h),this.drawArticle(l,this.name2,28*h,s/2+20,330*h)}else if(this.nameSize<=3&&3==this.peopleNum){l.font="bold 36px 微软雅黑";this.drawArticle(l,this.name1,50*h,s/2-50,355*h),this.drawArticle(l,this.name2,50*h,s/2,355*h),this.drawArticle(l,this.name3,50*h,s/2+50,355*h)}else if(4==this.nameSize&&3==this.peopleNum){l.font="bold 34px 微软雅黑";this.drawArticle(l,this.name1,40*h,s/2-50,345*h),this.drawArticle(l,this.name2,40*h,s/2,345*h),this.drawArticle(l,this.name3,40*h,s/2+50,345*h)}else if(5==this.nameSize&&3==this.peopleNum){l.font="bold 32px 微软雅黑";this.drawArticle(l,this.name1,34*h,s/2-44,340*h),this.drawArticle(l,this.name2,34*h,s/2,340*h),this.drawArticle(l,this.name3,34*h,s/2+44,340*h)}else if(6==this.nameSize&&3==this.peopleNum){l.font="bold 26rpx 微软雅黑";this.drawArticle(l,this.name1,28*h,s/2-40,330*h),this.drawArticle(l,this.name2,28*h,s/2,330*h),this.drawArticle(l,this.name3,28*h,s/2+40,330*h)}else if(this.nameSize<=3&&4==this.peopleNum){l.font="bold 24px 微软雅黑";this.drawArticle(l,this.name1,26*h,s/2-20,330*h),this.drawArticle(l,this.name2,26*h,s/2+20,330*h);if(this.name1.length>=this.name2.length)this.drawArticle(l,this.name3,26*h,s/2-20,(330+30*this.name1.length)*h),this.drawArticle(l,this.name4,26*h,s/2+20,(330+30*this.name1.length)*h);else this.drawArticle(l,this.name3,26*h,s/2-20,(330+30*this.name2.length)*h),this.drawArticle(l,this.name4,26*h,s/2+20,(330+30*this.name2.length)*h)}else if(4==this.nameSize&&4==this.peopleNum){l.font="bold 20px 微软雅黑";this.drawArticle(l,this.name1,20*h,s/2-20,325*h),this.drawArticle(l,this.name2,20*h,s/2+20,325*h);if(this.name1.length>=this.name2.length)this.drawArticle(l,this.name3,20*h,s/2-20,(325+24*this.name1.length)*h),this.drawArticle(l,this.name4,20*h,s/2+20,(325+24*this.name1.length)*h);else this.drawArticle(l,this.name3,20*h,s/2-20,(325+24*this.name2.length)*h),this.drawArticle(l,this.name4,20*h,s/2+20,(325+24*this.name2.length)*h)}else if(5==this.nameSize&&4==this.peopleNum){l.font="bold 16px 微软雅黑";this.drawArticle(l,this.name1,16*h,s/2-18,320*h),this.drawArticle(l,this.name2,16*h,s/2+18,320*h);if(this.name1.length>=this.name2.length)this.drawArticle(l,this.name3,16*h,s/2-18,(320+18*this.name1.length)*h),this.drawArticle(l,this.name4,16*h,s/2+18,(320+18*this.name1.length)*h);else this.drawArticle(l,this.name3,16*h,s/2-18,(320+18*this.name2.length)*h),this.drawArticle(l,this.name4,16*h,s/2+18,(320+18*this.name2.length)*h)}else if(6==this.nameSize&&4==this.peopleNum){l.font="bold 14px 微软雅黑";this.drawArticle(l,this.name1,14*h,s/2-18,318*h),this.drawArticle(l,this.name2,14*h,s/2+18,318*h);if(this.name1.length>=this.name2.length)this.drawArticle(l,this.name3,14*h,s/2-18,(318+16*this.name1.length)*h),this.drawArticle(l,this.name4,14*h,s/2+18,(318+16*this.name1.length)*h);else this.drawArticle(l,this.name3,14*h,s/2-18,(318+16*this.name2.length)*h),this.drawArticle(l,this.name4,14*h,s/2+18,(318+16*this.name2.length)*h)}l.draw(),setTimeout((function(){uni.canvasToTempFilePath({canvasId:"firstCanvas",success:function(t){e.tempFilePath=t.tempFilePath,uni.hideLoading(),setTimeout((function(){e.updateUrl(["/pages/user/index/index"]),uni.previewImage({current:e.tempFilePath,urls:[e.tempFilePath]}),e.show=!1}),100)},fail:function(t){console.log(t)}})}),200)},drawArticle:function(t,e,i,n,a){for(var s=e.split(""),r=[],l=0;l<s.length;l++)r.push(s[l]);for(var h=0;h<r.length;h++)h<100&&t.fillText(r[h],n,a+h*i);var o=r.length>2?2:r.length;return a+20*(o-1)}}};e.default=n},7984:function(t,e,i){"use strict";i("ac1f"),i("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:["notOpenPic"],data:function(){return{posterShow:!0,width:375,height:600,show:!1,nameSize:3,peopleNum:1,no:"A001",familyName:"梁",name1:"梁敏英",address:"江门市蓬江区建设路92号建行大厦8楼806室",impress:"/staic/impress2.png",rpx:0,fName:"梁三设",mName:"李三那"}},mounted:function(){var t=this;uni.getSystemInfo({success:function(e){t.width=e.windowWidth,t.height=e.windowHeight,t.rpx=e.windowWidth/375}});var e="财源茂盛";console.log("llu"),console.log(e.length,123)},methods:{init:function(t,e,i,n,a,s){this.name1=t,this.familyName=s.surname,this.peopleNum=a,this.address=s.address,this.fName=s.fName,this.mName=s.mName,console.log(this.name4),this.show=!0,this.no=s.no},imageLoad:function(t){var e=this,i=t.detail.width,n=t.detail.height,a=i/n;console.log("deviceWidth",i),console.log("deviceHeigth",i);var s=this.width,r=this.width/a;this.height=r,console.log(this.name4);var l=uni.createCanvasContext("firstCanvas"),h=this.rpx;console.log("imageRatio",s/r),setTimeout((function(){l.drawImage("/static/printf_bg2.jpg",0,0,s,r),l.drawImage("/static/impress2-70.png",s/2-76,380*h,150,150),l.setFontSize(16),l.setFillStyle("#000"),l.setTextAlign("left"),l.fillText("No："+e.no,20*h,30*h),l.font="bold 16rpx 微软雅黑",l.setTextAlign("center");e.drawArticle(l,e.address,16*h,s-35*h,285*h);l.font="bold 27rpx 微软雅黑";e.drawArticle(l,e.familyName+"门堂上历代祖先",27*h,s/2-2,370*h);if(e.fName){l.font="bold 27rpx 微软雅黑";e.drawArticle(l,"先父 "+e.fName+"大人",27*h,s/2+36,370*h)}if(e.mName){l.font="bold 27rpx 微软雅黑";e.drawArticle(l,"先母 "+e.mName+"大人",27*h,s/2-40,370*h)}l.font="bold 22px 微软雅黑";e.drawArticle(l,"阳上人:",22,25,r-420-22*e.name1.length);l.font="bold 22px 微软雅黑";e.drawArticle(l,e.name1,22,25,r-320-22*e.name1.length);l.font="bold 22px 微软雅黑";e.drawArticle(l,"合家",22,25,r-300),e.drawArticle(l,"敬荐",22,25,r-250);l.draw(),setTimeout((function(){uni.canvasToTempFilePath({canvasId:"firstCanvas",success:function(t){e.tempFilePath=t.tempFilePath,uni.hideLoading(),setTimeout((function(){e.updateUrl(["/pages/user/index/index"]),e.notOpenPic||uni.previewImage({current:e.tempFilePath,urls:[e.tempFilePath]}),e.$emit("callBack",e.tempFilePath)}),500),e.show=!1},fail:function(t){console.log(t)}})}),200)}),500)},drawArticle:function(t,e,i,n,a){for(var s=e.split(""),r=[],l=0;l<s.length;l++)r.push(s[l]);for(var h=0;h<r.length;h++)h<100&&t.fillText(r[h],n,a+h*i);var o=r.length>2?2:r.length;return a+20*(o-1)}}};e.default=n},"7a8e":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("v-uni-view",{staticClass:"bg-f"},[i("v-uni-canvas",{style:"width: "+t.width+"px; height: "+t.height+"px;left:-999px",attrs:{"canvas-id":"firstCanvas"}}),i("v-uni-image",{attrs:{src:"/static/printf_bg2.jpg",hidden:!0},on:{load:function(e){arguments[0]=e=t.$handleEvent(e),t.imageLoad.apply(void 0,arguments)}}})],1):t._e()},s=[]},8573:function(t,e,i){"use strict";i("c975"),i("4d63"),i("ac1f"),i("25f0"),i("5319"),i("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={components:{},data:function(){return{posterShow:!0,formAction:"/project/order/detail",width:400,tempFilePath:"",show:!1,height:600,rpx:0,images:[],data:this.formatData(this),price:"1888.88",order:{},url:"",open:!0,images2:{},priceArr:[]}},onLoad:function(){},methods:{imageLoad2:function(t){var e=t.detail.width,i=200,n=e/i;console.log(t);var a=this.width,s=(this.width,{});s={width:a,height:200},console.log(s),console.log(124),this.images2=s},ajax:function(t,e){var i=this,n=getCurrentPages(),a=n[n.length-1];if(this.url=a.route,this.open=e,this.tempFilePath)setTimeout((function(){uni.previewImage({current:i.tempFilePath,urls:[i.tempFilePath]})}),500);else{uni.getSystemInfo({success:function(t){i.width=t.windowWidth,i.height=t.windowHeight,i.rpx=t.windowWidth/375}}),this.order=t,this.price=t.amount;var s=new Date(t.created_at.replace(new RegExp(/-/gm),"/"));this.order.year=s.getFullYear(),this.order.month=s.getMonth()+1,this.order.month=this.order.month<10?"0"+this.order.month:this.order.month,this.order.date=s.getDate(),this.order.date=this.order.date<10?"0"+this.order.date:this.order.date,this.show=!0,this.convertCurrency(this.price),this.open&&uni.showLoading({title:"加载中"})}},imageLoad:function(t){var e=this,i=t.detail.width,n=t.detail.height,a=i/n,s=this.width,r=this.width/a,l=uni.createCanvasContext("firstCanvas");console.log(r),this.url,l.drawImage("/static/receipt-bg3.jpg",0,0,s,r);var h=this.rpx;l.setFontSize(10),l.setFillStyle("#603217"),l.fillText(this.order.year,125*h,48*h),l.setFontSize(10),l.setFillStyle("#603217"),l.fillText(this.order.month,170*h,48*h),l.setFontSize(10),l.setFillStyle("#603217"),l.fillText(this.order.date,200*h,48*h),l.setFontSize(9),l.setFillStyle("#ff0000"),l.fillText("GD"+this.order.order_no,278*h,49*h),l.setFontSize(10),l.setFillStyle("#603217"),l.fillText(this.order.cert_name,90*h,78*h),l.setFontSize(10),l.setFillStyle("#603217");var o=this.convertCurrency(this.price);l.fillText(o,110*h,104*h),this.order.tablet_name&&(l.setFontSize(10),l.setFillStyle("#603217"),l.fillText(this.order.tablet_name,70*h,127*h)),l.setFontSize(10),l.setFillStyle("#603217"),l.fillText("微信支付",275*h,78*h),l.setFontSize(10),l.setFillStyle("#603217"),l.fillText("￥"+this.price,290*h,104*h),l.draw(),this.show=!0,setTimeout((function(){uni.canvasToTempFilePath({canvasId:"firstCanvas",success:function(t){console.log(t),e.tempFilePath=t.tempFilePath,e.open&&(uni.hideLoading(),setTimeout((function(){e.updateUrl(["/pages/user/index/index"]),uni.previewImage({current:e.tempFilePath,urls:[e.tempFilePath]}),e.show=!1}),500))},fail:function(t){console.log(t)}})}),200)},drawArticle:function(t,e,i,n,a){for(var s=e.split(""),r="",l=[],h=0;h<s.length;h++)t.measureText(r).width<i?r+=s[h]:(h--,l.push(r),r="");l.push(r);for(var o=0;o<l.length;o++)o<3&&t.fillText(l[o],n,a+19*o);var d=l.length>3?3:l.length;return a+19*(d-1)},convertCurrency:function(t){var e="仟佰拾亿仟佰拾万仟佰拾元角分",i="";t+="00";var n=t.indexOf("-");if(-1!=n){t=t.substring(1);var a=t.indexOf(".");a>=0&&(t=t.substring(0,a)+t.substr(a+1,2)),e=e.substr(e.length-t.length);for(var s=0;s<t.length;s++)i+="".charAt(t.charAt(s))+e.charAt(s);return"负数"+i.replace(/零(仟|佰|拾|角)/g,"零").replace(/(零)+/g,"零").replace(/零(万|亿|元)/g,"$1").replace(/(亿)万/g,"$1").replace(/^元零?|零分/g,"").replace(/元$/g,"元整").replace(/角$/g,"角整")}a=t.indexOf(".");a>=0&&(t=t.substring(0,a)+t.substr(a+1,2)),e=e.substr(e.length-t.length);for(s=0;s<t.length;s++)i+="零壹贰叁肆伍陆柒捌玖".charAt(t.charAt(s))+e.charAt(s);return i.replace(/零(仟|佰|拾|角)/g,"零").replace(/(零)+/g,"零").replace(/零(万|亿|元)/g,"$1").replace(/(亿)万/g,"$1").replace(/^元零?|零分/g,"").replace(/元$/g,"元整").replace(/角$/g,"角整")}}};e.default=n},"8c12":function(t,e,i){"use strict";i.r(e);var n=i("74e0"),a=i("e4e0");for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);var r,l=i("f0c5"),h=Object(l["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=h.exports},a5f0:function(t,e,i){"use strict";i.r(e);var n=i("26dc"),a=i("676c");for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);var r,l=i("f0c5"),h=Object(l["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=h.exports},c15b:function(t,e,i){"use strict";i.r(e);var n=i("7984"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},e4e0:function(t,e,i){"use strict";i.r(e);var n=i("76ca"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a}}]);